<div class="math-document-container">
  <!-- Inject MathJax styles -->
  <style [innerHTML]="mathStyles"></style>

  <!-- Loading state to display until the math content is rendered. -->
  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    Loading document...
  </div>

  <!-- Error state to display when an error occurs during rendering. -->
  <div *ngIf="error" class="error">
    <strong>Error:</strong> {{ error }}
    <button (click)="retry()" class="retry-btn">Retry</button>
    <button (click)="toggleDebugInfo()" class="debug-btn">
      {{ showDebugInfo ? 'Hide' : 'Show' }} Debug Info
    </button>

    <div *ngIf="showDebugInfo" class="debug-info">
      <h4>MathJax Configuration:</h4>
      <pre>{{ debugInfo | json }}</pre>
    </div>
  </div>

  <!-- Math content to display once rendered successfully. -->
  <div
    class="math-content"
    [innerHTML]="renderedContent"
    *ngIf="!loading && !error">
  </div>

  <!-- If enabled, shows the MathJax configuration used for this document. -->
  <div *ngIf="!loading && !error && showConfigInfo" class="config-info">
    <details>
      <summary>MathJax Configuration</summary>
      <pre>{{ mathJaxConfigInfo | json }}</pre>
    </details>
  </div>
</div>
